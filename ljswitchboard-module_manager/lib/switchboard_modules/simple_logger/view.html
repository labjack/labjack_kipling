{{#with custom}}
<p></p>


<div id="logger_module" class="{{logger_mode}}">
<!-- <div id="logger_module" class="dashboard_mode"> -->
  <div id="logger_controls">
    <div id="navbar-example" class="navbar">
      <div class="navbar-inner">
        <div class="container1">
          <!-- <h2 class="brand active-log-controls">LJ</h2> -->
          <ul class="nav navbar-nav active-log-controls">
            <li>
              <button class="win-command green" rel="tootlip" title="Command with icon and label with border ring" onClick="userLoggerStart()">
                <span class="win-commandicon win-commandring icon-play"></span>
                <!-- <span class="win-label">Start</span> -->
             </button>
            </li>
            <li>
              <button class="win-command red" rel="tootlip" title="Command with icon and label with border ring">
                <span class="win-commandicon win-commandring icon-stop"></span>
                <!-- <span class="win-label">Stop</span> -->
             </button>
            </li>
          </ul>

          <ul class="nav navbar-nav configure-log-controls">
            <li>
              <button class="win-command" href="#" id="newConfig" rel="tootlip" title="Create a new configuration">
                <span class="win-commandicon win-commandring icon-file-4"></span>
                <!-- <span class="win-label">New</span> -->
             </button>
             <script>
              $(document).ready( function() {
               $("#newConfig").on("click", function() {
                 $("#configFormDisplay").load("../../ljswitchboard-module_manager/lib/switchboard_modules/simple_logger/templates/create_configuration.html");
                 });
             });

             $("#newConfig").click(function() {
              //window.confirm("Would you like to clear all of the fields? This will delete all form data!");
              if (confirm("Would you like to clear all of the fields? This will delete all form data!")) {
                  document.getElementById("logName").value = "";
                  document.getElementById("devSN").value = "";
                  document.getElementById("dataGroupName").value = "";
                  //seperation of the top half and the lower half
                  document.getElementById("validationCustom01").value = "";
                  document.getElementById("validationCustom02").value = "";
                  document.getElementById("validationCustom03").value = "";
                  document.getElementById("validationCustom04").value = "";
                  document.getElementById("validationCustom05").value = "";
                  document.getElementById("validationCustom06").value = "";
                  document.getElementById("validationCustom07").value = "";
                  document.getElementById("validationCustom08").value = "";
                } else {
                  // nothing should happen
                }
             });
            </script>
            </li>
            <li>
              <button class="win-command" rel="tootlip" title="Load a configuration" onClick="openFile(loadConfigFile)">
                <span class="win-commandicon win-commandring icon-folder-open"></span>
                <!-- <span class="win-label">Open</span> -->
             </button>
            </li>
            <li>
              <button class="win-command" rel="tootlip" title="Save configuration">
                <span class="win-commandicon win-commandring icon-disk"></span>
                <!-- <span class="win-label">Save</span> -->
             </button>
            </li>
            <!-- <li>
              <button class="win-command" rel="tootlip" id="resetBtn" title="Command with icon and label with border ring">
                <span class="win-commandicon win-commandring icon-code-3"></span>
                <span class="win-label">clear</span> 
             </button>
             <script>
              $("#resetBtn").click(function(){
                
              })
             </script>
            </li> -->
          </ul>
          <ul class="nav pull-right active-log-controls">
            <li>
              <button class="win-command" href="#" id="configViewButton" rel="tootlip" title="Configure">
                <span class="win-commandicon win-commandring icon-cog-4"></span>
                <!-- <span class="win-label">Configure</span> -->
             </button>
             <script>
              $("#configViewButton").click(function(){
                $('.datviewContainer').hide();
                $('#formContainer').show();
              });
             </script>
             <!-- <script>
               $(document).ready( function() {
                $("#configViewButton").on("click", function() {
                  $("#config_view").load("../../ljswitchboard-module_manager/lib/switchboard_modules/simple_logger/templates/view_current_configuration.html");
                  });
              });
             </script> -->
            </li>
          </ul>
          <ul class="nav pull-right configure-log-controls">
            <li>
              <button class="win-command" rel="tootlip" title="Command with icon and label with border ring">
                <span class="win-commandicon win-commandring  icon-statistics" id="DataView"></span>
                <!-- <span class="win-label">Dashboard</span> -->
             </button>
             <!-- working here so i don't forget where i am -->
             <script>
              $("#DataView").click(function(){
                $('#formContainer').hide();
                $('#dataView').show();
                // var arr = new Array (2);
                // arr[0] = document.getElementById('validationCustom05');
                // document.write(arr);
                // array to be displayed
                var array = [];
                array[0] = document.getElementById('validationCustom01').value;
                array[1] = document.getElementById('validationCustom02').value;
                array[2] = document.getElementById('validationCustom03').value;
                array[3] = document.getElementById('validationCustom04').value;
                array[4] = document.getElementById('validationCustom05').value;
                array[5] = document.getElementById('validationCustom06').value;
                array[6] = document.getElementById('validationCustom07').value;
                array[7] = document.getElementById('validationCustom08').value;
                //displays the array seperated by a new line so latter down the
                //line we can put the corisponding data next to it
                //console.log(str.split(',').join("\r\n"));
                //assigns the array elementto the div class
                document.getElementById("display-array").textContent = array[0];
                document.getElementById("display-array1").textContent = array[1];
                document.getElementById("display-array2").textContent = array[2];
                document.getElementById("display-array3").textContent = array[3];
                document.getElementById("display-array4").textContent = array[4];
                document.getElementById("display-array5").textContent = array[5];
                document.getElementById("display-array6").textContent = array[6];
                document.getElementById("display-array7").textContent = array[7];
              });
             </script>
            </li>
          </ul>
        </div><!-- /.container -->
      </div>
    </div>
  </div><!-- /#logger_controls -->
  <!-- <div id="config_view" class="config-pannel">
    <pre id="currentConfigDisp" style="visibility: hidden;"></pre> -->
    <!-- <div id="config_forum"> -->
      <!-- <div class="panel-group"> -->
            <!-- <div class="panel panel-default">
              <div class="panel-heading" role="button" id="configured-views">
                <h4 class="panel-title"> -->
                  <!-- <a class="collapsed" role="button" data-toggle="collapse" href="#loggerViewsCollapsible" aria-expanded="false" aria-controls="collapseOne">
                    Configured Views
                    <span class="badge">0</span>
                  </a> -->
                <!-- </h4>
              </div> -->
              <!-- <div id="loggerViewsCollapsible" class="panel-collapse collapse" role="tabpanel" aria-labelledby="configured-views">
                <div class="panel-body">
                  <div>
                    <p>This is where the configured views will be displayed</p>
                  </div>
                </div>
              </div> -->
            <!-- </div> -->
            <!-- <div class="panel panel-default">
              <div class="panel-heading" role="button" id="configured-data-groups">
                <h4 class="panel-title">
                  <a class="collapsed" role="button" data-toggle="collapse" href="#loggerDataGroupsCollapsible" aria-expanded="false" aria-controls="collapseThree">
                    Defined Data Groups
                    <span class="badge">0</span>
                  </a>
                </h4>
              </div>
              <div id="loggerDataGroupsCollapsible" class="panel-collapse collapse" role="tabpanel" aria-labelledby="configured-data-groups">
                <div class="panel-body">
                  <div>
                    <p>This is where the configured data groups will be displayed.</p>
                  </div>
                </div>
              </div>
            </div> -->
            <!-- </tr>
          </table>
      </div>
    </div> -->
  <!-- </div> -->
  <!-- <div id="logger_view" class="logger-pannel">
    <p>This is the active logger view</p>
  </div>
</div> -->
<!-- <div id="configForm">
  <table class="table table-non-striped configSettingsTable">
    <thead>
      <h4>New Logger Configuration</h4>
      <th class="attribute">
      <th class="input">
      <th class="userFeedback">
    </thead>
    <tbody style="background-color:transparent">
      <tr id="logName" class="">
        <td>Logger Configuration Name:</td>
        <td>
          <input class="" type="text" name="Configuration Name" value="" placeholder="ex: AIN0_1_2 Log">
        </td>
      </tr>
      <tr id="dataGroup" class="">
        <td>Data Group Name:</td>
        <td>
          <input class="" type="text" name="" value="" placeholder ="ex: AIN Group">
        </td>
      </tr>
      <tr id="addRegisterToGroup">
        <td>
          <label for="validationCustom05" class="form-label">Register</label>
          <input type="text" class="form-control" id="validationCustom05" required>
          <div class="invalid-feedback">
            Please provide a valid register.
          </div>  
        </td>
      </tr>
    </tbody>
  </table>
  <button id="addButton"> click the button to add register</button>
      <button id="removeButton" disabled="True"> click the button to remove register</button>
        <div id="textboxContainer" class="testBox"></div>

        <div class="input-container">
          <input type="text" class="input-field"/>
          <button class="input-button">Ok</button>
        </div>

          <script type="text/javascript">
            $(document).ready(function(){
              var registerCount = 0;

              const MAX_REGISTERS = 8;

              $('#addButton').click(function () {
                var input = document.createElement("input");
                input.setAttribute("type", "text");
                input.className = ("input-field");
                input.id = ("nipit");
                document.getElementById("textboxContainer").appendChild(input);
                if($("#removeButton").prop("disabled")){ $("#removeButton").prop("disabled", false) }
                registerCount += 1;
                checkRegisterCount()
              })

              $('#removeButton').click(function () {
                // $("textboxContainer").children().last().remove();
                // registerCount -= 1
                const list = document.getElementById("textboxContainer");
                if (list.hasChildNodes()){
                  list.removeChild(list.children[1]);
                  registerCount -= 1;
                  checkRegisterCount();
                }
              })

              // Checks the number of active registers in the form and disables
              // the add button when the max is reached
              let checkRegisterCount = function () {
                if (registerCount >= MAX_REGISTERS) {
                  $('#addButton').prop("disabled", true).addClass("disabled")
                }
                else if (registerCount <= MAX_REGISTERS) {
                  $('#addButton').prop("disabled", false).removeClass("disabled")
                }
              }
          })
          </script>
  <button class="btn btn-primary" type="submit">Verify and Load Configuration</button>
</div> -->
<div class="container" id="formContainer">
<div class="container">
  <div class="col-sm-7">
      <form>
          <div class="form-group">
              <label for="logName">
                  Log name:
              </label>
              <input type="text" name="logName" id="logName" required class="form-control" class="form-control">
              <h5 id="nameCheck" style="color: red;">
                  Log Name is Missing
              </h5>
          </div>

          <div class="form-group">
            <label for="devSN">
                Device Serial Number:
            </label>
            <input type="text" name="devSN" id="devSN" value = '' required class="form-control" class="form-control">
            <h5 id="nameCheck" style="color: red;">
                Device Serial Number is Missing
            </h5>
            
        </div>
          <div class="form-group">
              <label for="dataGroupName">
                  Data Group Name:
              </label>
              <input type="text" name="dataGroup" id="dataGroupName" required class="form-control">
              <h5 id="groupCheck" class="form-text text-muted invalid-feedback" style="color: red;">
                  Please name the data group.
              </h5>
          </div>

          <div class="form-group">
            <label for="validationCustom05">
              Register Name(s):
          </label>
          <!-- start of the registers -->
          <div class="row">
            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #1
              </small>
              <input type="text" class="form-control" id="validationCustom01" name="array[]" 
              oninput="this.value = this.value.toUpperCase()">
            </div>
            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #2
              </small>
              <input type="text" class="form-control" id="validationCustom02" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #3
              </small>
              <input type="text" class="form-control" id="validationCustom03" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #4
              </small>
              <input type="text" class="form-control" id="validationCustom04" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #5
              </small>
              <input type="text" class="form-control" id="validationCustom05" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #6
              </small>
              <input type="text" class="form-control" id="validationCustom06" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #7
              </small>
              <input type="text" class="form-control" id="validationCustom07" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <div class="col-sm-6">
              <small id="regCheck" class="form-text
                text-muted invalid-feedback">
                Register #8
              </small>
              <input type="text" class="form-control" id="validationCustom08" name="array[]"
              oninput="this.value = this.value.toUpperCase()">
            </div>

            <!-- end of the refgisters -->
          </div>
        </div>
          <div class="form-group">
            <label for="filePath">
              Log File(s) Save Location:
          </label>
            <div class="col-lg">
              <!-- <input type="file" class="form-control" id="selectDir" required class="form-control" webkitdirectory directory>
              <small id="pathCheck" class="form-text
                  text-muted invalid-feedback">
                  Please Provide a Valid Directory Path.
              </small> -->
              <!-- <div style="text-align:center;"> -->
                <input type="text" placeholder="Please select a file" id="actual-file" disabled="disabled"/>
                <input type="button" value="Choose a file" id="select-file" class="btnUpdate"/>
              <!-- </div> -->
            </div>
          </div>
          <!-- btn btn-primary -->

          <input type="submit" id="submitbtn" value="Verify and Load Configuration" class="btnUpdate">
      </form>
      <script>


        $(document).ready(function () {
          $('.datviewContainer').hide();
          $('#formContainer').show();
          const { dialog } = require('electron').remote; 
          // var dialog = require('electron').dialog;
          var fs = require('fs');

          document.getElementById('select-file').addEventListener('click',function(){
                dialog.showOpenDialog({
                  properties: ['openDirectory']
                }).then((data) => {
                  // alert(data.filePaths)
                  // console.error(data)
                  $("#actual-file").val(data.filePaths)
                })
            },false);

          function validateLogName(){
            // x = 2;
            // if( x == 1 ){
            //   return true
            // }
            // else{
            //   return false
            // }
            return true
          }

          function validateFilePath(){
            // TO-DO: check file path for log-to-file is valid directory
            return true
          }

          function validateRegisters(){
            // TO-DO: check that all selected registers are valid for selected device and can be streamed
            return true
          }
        // Submit button
          $("#submitbtn").click(function () {
            var arrays = [];
            arrays[0] = document.getElementById('validationCustom01').value;
            arrays[1] = document.getElementById('validationCustom02').value;
            arrays[2] = document.getElementById('validationCustom03').value;
            arrays[3] = document.getElementById('validationCustom04').value;
            arrays[4] = document.getElementById('validationCustom05').value;
            arrays[5] = document.getElementById('validationCustom06').value;
            arrays[6] = document.getElementById('validationCustom07').value;
            arrays[7] = document.getElementById('validationCustom08').value;



            for(var i = 0; i < 8; i++){
              //var registerCheck = document.getElementById("validationCustom01").value;
              var registerCheck = arrays[i];
              var searched = registerCheck.search(" "); // Returns the first index of the white space

              if((searched !=null)&&(searched >0))
              {
                //should this be an alert or should this be litle icon that apprears when it's wrong
                alert("Registers should not have a space in them");
                break;
              }
              else
              {}
              //resets the counter of the scaces so we can be checking for all the registers.
              searched = 0;
              }
            
            return true
            //return true
            //let ln = validateLogName();
            // let fp = validateFilePath();
            // let rg = validateRegisters();
            // if (
            //   ln &&
            //   fp &&
            //   rg 
            // ) {
            //   return true;
            // } else {
            //   return false;
            // }
          });
        });
      </script>
  </div>
</div>
</div>

<div class="datviewContainer" id="dataView" >

  <script>
    var arrayElements = document.getElementById("arrey");
    var finalArray = jQuery.makeArray( arrayElements );
    var res = finalArray.length;
    for (var i = 0; i < 3; i++){
      var $label = $("<label>").text('Date:');
      table.append(row);
    }

    finalArray.reverse();
    $( finalArray ).appendTo( document.body );
  </script>
  <!-- whwere wea re actuly putting the varables -->
  <div id="display-array" class="logerViewStyle"></div>
  <div id="display-array1" class="logerViewStyle"></div>
  <div id="display-array2" class="logerViewStyle"></div>
  <div id="display-array3" class="logerViewStyle"></div>
  <div id="display-array4" class="logerViewStyle"></div>
  <div id="display-array5" class="logerViewStyle"></div>
  <div id="display-array6" class="logerViewStyle"></div>
  <div id="display-array7" class="logerViewStyle"></div>
</div>




<!-- <pre class="selectableText">{{printContext}}</pre>
{{/with}} -->


